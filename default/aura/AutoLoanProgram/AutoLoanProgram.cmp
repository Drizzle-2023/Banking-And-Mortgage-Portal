<!--
  @description       : 
  @author            : 'Amol K'
  @group             : 
  @last modified on  : 02-20-2023
  @last modified by  : 'Amol K'
-->
<aura:component implements="forceCommunity:availableForAllPageTypes" access="global"
    controller="ConsumerLoanController">

    <aura:attribute name="ConsumerLoanProgram" type="object" />
    <aura:attribute name="ConsumerLoanProgramMap" type="Map" />
    <aura:attribute name="ConsumerOptions" type="Map" />
    <aura:attribute name="showFormTypeSelector" type="boolean" default="true" />
    <aura:attribute name="selectedConsumerType" type="String" default="" />

    <aura:attribute name="IsSelfEmployed" type="boolean" default="false" />
    <aura:attribute name="currentTab" type="String" default="0" />
    <aura:attribute name="ApplicationQuestion" type="object" />
    <aura:attribute name="DeclarationQuestions" type="object" />
    <aura:attribute name="Yes_No_options" type="List" />
    <aura:attribute name="ResidentialLoanApplication" type="object" />
    <aura:attribute name="LoanApplicant" type="object" />
    <aura:attribute name="LoanApplicantMap" type="List" />
    <aura:attribute name="NewLoanApplicant" type="object" />
    <aura:attribute name="LoanApplicationId" type="String" default="" />
    <aura:attribute name="showBorrowerForm" type="boolean" default="false" />

    <aura:attribute name="vehicleMakeList" type="list" default="[]" />
    <aura:attribute name="vehicleTypeMakeMap" type="map" />

    <aura:attribute name="PersonalInfoCurrentTab" type="String" default="0" />


    <aura:attribute name="LoanApplicantAddress" type="object" />
    <aura:attribute name="LoanApplicantMalingAddress" type="object" />
    <aura:attribute name="LoanApplicantEmployment" type="object" />
    <aura:attribute name="currentUserContact" type="object" />
    <aura:attribute name="LoanApplicantIncomes" type="object" />

    <aura:attribute name="consentOption" type="String[]" />
    <aura:attribute name="showCertificationForm" type="boolean" default="false" />


    <aura:attribute name="statusOption" type="List" />
    <aura:attribute name="MortgageTypes" type="List" />
    <aura:attribute name="MaritalStatus" type="List" />
    <aura:attribute name="VehicleType" type="List" />
    <aura:attribute name="purposeOfLoan" type="List" />
    <aura:attribute name="LoanTerms" type="List" />
    <aura:attribute name="requiredDocumentIds" type="String" />

    <aura:attribute name="Spinner" type="boolean" default="false" />
    <aura:handler name="init" value="{!this}" action="{!c.doInit}" />

    <div class="page-section-box">
        <article class="slds-card">

            <div class="slds-text-heading_medium slds-text-align_center header-cust">
                {!v.ConsumerLoanProgram.Name} Application Form
            </div>
            <div class="cust-progress-bar">
                <lightning:progressIndicator currentStep="{!v.ResidentialLoanApplication.Status}" type="path"
                    variant="base">
                    <aura:iteration items="{!v.statusOption}" var="option">
                        <lightning:progressStep label="{!option}" value="{!option}" />
                    </aura:iteration>

                </lightning:progressIndicator>
            </div>

            <div class="main-container">
                <div class="slds-align_absolute-center"
                    style="display: block; text-align: center; color: rgb(25,17,105);width:75%;">
                    <div>
                        <p>
                            {!v.ConsumerLoanProgram.Applicant_Instruction__c}
                        </p>
                    </div>
                </div>
                <div class="tab-section">
                    <lightning:tabset variant="vertical" selectedTabId="{!v.currentTab}">

                        <lightning:tab label="Pre App" id="8" class="disabledTab">

                            <div class="slds-text-color_weak slds-text-align_center 
                                        slds-text-heading_small">
                                Pre App</div>
                            <div class="tab-container">
                                <div class="slds-align_absolute-center"
                                    style="display: block; text-align: center; padding: 2%;">
                                    <p style="text-align: justify;">

                                    </p>
                                </div>
                            </div>
                        </lightning:tab>
                        <lightning:tab label="1. Instructions" id="0">

                            <div class="slds-text-color_weak slds-text-align_center 
                                        slds-text-heading_small">
                                Instructions</div>


                            <div class="tab-container">
                                <div class="slds-align_absolute-center"
                                    style="display: block; text-align: center; padding: 2%;">
                                    <div>
                                        <p style="text-align: justify;">
                                            <!--This application is designed to be completed by the main Applicant/Borrower, who will also enter the information for any CoBorrowers with their assistance.  Co-borrower information must also be provided when the income or assets of a person other than Borrower (including Borrower's spouse) will be used as a basis for loan qualification or the income or assets of the Borrower's spouse or other person who has community property rights pursuant to state law will not be used as basis for loan qualification, but his or her liabilities must be considered because the spouse or other person has community property rights pursuant to applicable law and Borrower resides in community property state, the security property is located in a community property state, or the Borrower is relying on the other property located in a community property state as a basis for repayment of the loan.-->
                                            {!v.ConsumerLoanProgram.Loan_Instructions__c}
                                        </p>
                                    </div>
                                    <br /><br />
                                    <lightning:input aura:id="read-me" type="checkbox"
                                        label="I have read the above instructions." name="read-me-input1" />
                                </div>

                                <div class="slds-align_absolute-center button-pannel" style="height:5rem;">
                                    <lightning:button variant="brand" label="Next" title="Next"
                                        onclick="{! c.showApplicationQuestionTab }" />

                                    <lightning:button label="Cancel" title="Cancel" onclick="{! c.cancelForm }" />
                                </div>
                            </div>

                        </lightning:tab>

                        <lightning:tab label="2. Loan/Vehicle Information" id="1">

                            <div class="slds-text-color_weak slds-text-align_center 
                                        slds-text-heading_small">
                                Loan/Vehicle Information</div>
                            <div class="tab-container">
                                <article class="slds-tile slds-align_absolute-center applicationSummary">
                                    <div class="slds-tile__detail">
                                        <b>
                                            <ul class="slds-list_horizontal slds-has-dividers_right">
                                                <li class="slds-item">
                                                <li class="slds-col--padded ">
                                                    <p class="slds-text-heading--label slds-truncate"
                                                        title="Monthly Income">Monthly Income</p>
                                                    <p class="slds-text-body--regular slds-truncate">
                                                        <lightning:formattedNumber
                                                            value="{!v.ResidentialLoanApplication.TotalMonthlyIncome__c}"
                                                            style="currency" currencyCode="USD" />
                                                    </p>
                                                </li>
                                                </li>
                                                <li class="slds-item">
                                                <li class="slds-col--padded ">
                                                    <p class="slds-text-heading--label slds-truncate"
                                                        title="Monthly Expence">Monthly Expense</p>
                                                    <p class="slds-text-body--regular slds-truncate">
                                                        <lightning:formattedNumber
                                                            value="{!v.ResidentialLoanApplication.TotalMonthlyExpense__c}"
                                                            style="currency" currencyCode="USD" />
                                                    </p>
                                                </li>
                                                </li>
                                                <li class="slds-item">
                                                <li class="slds-col--padded ">
                                                    <p class="slds-text-heading--label slds-truncate"
                                                        title="Monthly Expence">Debt To Income Ratio</p>
                                                    <p class="slds-text-body--regular slds-truncate">
                                                        <lightning:formattedNumber
                                                            value="{!v.ResidentialLoanApplication.Debt_To_Income_Ratio__c}"
                                                            style="percent" maximumFractionDigits="2" />
                                                    </p>
                                                </li>
                                                </li>
                                            </ul>
                                        </b>
                                    </div>
                                </article>
                                <div class="slds-section slds-is-open">
                                    <h3 class="slds-section__title slds-theme_shade">
                                        <span class="slds-truncate slds-p-horizontal_small"
                                            title="Loan Information">Loan Information</span>
                                    </h3>
                                    <div aria-hidden="false" class="slds-section__content">
                                        <lightning:select aura:id="vehicleLoanInfo" label="Purpose of Loan"
                                            required="false" value="{!v.ResidentialLoanApplication.LoanPurpose}">
                                            <option value="">--None--</option>
                                            <aura:iteration items="{!v.purposeOfLoan}" var="purpose">
                                                <option text="{!purpose}" value="{!purpose}" />
                                            </aura:iteration>
                                        </lightning:select>

                                        <lightning:input aura:id="vehicleLoanInfo" label="Estimated Purchase Price"
                                            type="number" formatter="currency" required="false"
                                            value="{!v.ResidentialLoanApplication.Estimated_Purchase_Price__c}">
                                        </lightning:input>

                                        <lightning:input aura:id="propertyLoanInfo" label="Desired Loan Amount"
                                            type="number" formatter="currency" required="true"
                                            value="{!v.ResidentialLoanApplication.Desired_Loan_Amount__c}">
                                        </lightning:input>

                                        <lightning:input aura:id="vehicleLoanInfo" label="Down Payment Amount"
                                            type="number" formatter="currency" required="true"
                                            value="{!v.ResidentialLoanApplication.Down_Payment_Amount__c}">
                                        </lightning:input>
                                        <lightning:select aura:id="vehicleLoanInfo" label="Loan Term(months)"
                                            required="false" value="{!v.ResidentialLoanApplication.AmortizationTerm}">
                                            <aura:iteration items="{!v.LoanTerms}" var="option">
                                                <option text="{!option}" value="{!option}"></option>
                                            </aura:iteration>
                                        </lightning:select>
                                    </div>
                                </div>

                                <div class="slds-section slds-is-open">
                                    <h3 class="slds-section__title slds-theme_shade">
                                        <span class="slds-truncate slds-p-horizontal_small"
                                            title="Vehicle Information">Vehicle Information</span>
                                    </h3>
                                    <div aria-hidden="false" class="slds-section__content">
                                        <lightning:select aura:id="vehicleLoanInfo" label="Vehicle Type"
                                            required="false" value="{!v.ResidentialLoanApplication.Vehicle_Type__c}">
                                            <option value="">--None--</option>
                                            <aura:iteration items="{!v.VehicleType}" var="type">
                                                <option text="{!type}" value="{!type}" />
                                            </aura:iteration>
                                        </lightning:select>
                                        <lightning:select aura:id="vehicleLoanInfo" label="Is this new or used vehicle?"
                                            required="false"
                                            value="{!v.ResidentialLoanApplication.Is_new_or_used_vehicle__c}">
                                            <option value="New">New</option>
                                            <option value="Used">Used</option>
                                        </lightning:select>
                                        <lightning:select aura:id="vehicleLoanInfo" label="Vehicle Make"
                                            required="false" value="{!v.ResidentialLoanApplication.Vehicle_Make__c}">
                                            <aura:iteration items="{!v.vehicleMakeList}" var="option">
                                                <option text="{!option}" value="{!option}"></option>
                                            </aura:iteration>
                                        </lightning:select>
                                        <lightning:input aura:id="vehicleLoanInfo" label="Vehicle Model" type="text"
                                            required="false" value="{!v.ResidentialLoanApplication.Vehicle_Model__c}">
                                        </lightning:input>
                                        <lightning:input aura:id="vehicleLoanInfo" label="Vehicle Year" type="text"
                                            required="false" value="{!v.ResidentialLoanApplication.Vehicle_Year__c}">
                                        </lightning:input>
                                        <br />
                                        <lightning:input aura:id="employmentInfo" type="checkbox" label="Add Trade-In"
                                            name="addTradeIn" checked="{!v.ResidentialLoanApplication.Add_Trade_In__c}"
                                            onchange="{!c.showTradeInFrom}" />

                                    </div>
                                </div>

                                <aura:if isTrue="{!v.ResidentialLoanApplication.Add_Trade_In__c}">
                                    <div class="slds-section slds-is-open">
                                        <h3 class="slds-section__title slds-theme_shade">
                                            <span class="slds-truncate slds-p-horizontal_small"
                                                title="Trade In Information">Trade in Information</span>
                                        </h3>
                                        <div aria-hidden="false" class="slds-section__content">
                                            <lightning:select aura:id="vehicleLoanInfo"
                                                label="What type of vehicle is this?" required="false"
                                                value="{!v.ResidentialLoanApplication.Trade_In_Vehicle_Type__c}">
                                                <option value="">--None--</option>
                                                <aura:iteration items="{!v.VehicleType}" var="type">
                                                    <option text="{!type}" value="{!type}" />
                                                </aura:iteration>
                                            </lightning:select>
                                            <lightning:select aura:id="vehicleLoanInfo" label="Vehicle Make"
                                                required="false"
                                                value="{!v.ResidentialLoanApplication.Trade_In_Vehicle_Make__c}">
                                                <aura:iteration items="{!v.vehicleMakeList}" var="option">
                                                    <option text="{!option}" value="{!option}"></option>
                                                </aura:iteration>
                                            </lightning:select>
                                            <lightning:input aura:id="vehicleLoanInfo" label="Vehicle Model" type="text"
                                                required="false"
                                                value="{!v.ResidentialLoanApplication.Trade_In_Vehicle_Model__c}">
                                            </lightning:input>
                                            <lightning:input aura:id="vehicleLoanInfo" label="Vehicle Year" type="text"
                                                required="false"
                                                value="{!v.ResidentialLoanApplication.Trade_In_Vehicle_Year__c}">
                                            </lightning:input>
                                            <lightning:input aura:id="propertyLoanInfo"
                                                label="What is current value of this vehicle?" type="number"
                                                formatter="currency" required="true"
                                                value="{!v.ResidentialLoanApplication.Trade_In_Current_Value_of_Vehicle__c}">
                                            </lightning:input>
                                            <lightning:input aura:id="propertyLoanInfo"
                                                label="How much do you still owe on this vehicle?" type="number"
                                                formatter="currency" required="true"
                                                value="{!v.ResidentialLoanApplication.How_Much_Owe__c}">
                                            </lightning:input>
                                            <lightning:input aura:id="propertyLoanInfo"
                                                label="How much you are paying monthly for this vehicle?" type="number"
                                                formatter="currency" required="true"
                                                value="{!v.ResidentialLoanApplication.Monthly_Pay_For_Vehicle__c}">
                                            </lightning:input>
                                            <lightning:input aura:id="propertyLoanInfo"
                                                label="Expected Trade In Allowance" type="number" formatter="currency"
                                                required="true"
                                                value="{!v.ResidentialLoanApplication.Expected_Trade_In_Allowance__c}">
                                            </lightning:input>
                                        </div>
                                    </div>
                                </aura:if>

                                <div class="slds-section slds-is-open">
                                    <h3 class="slds-section__title slds-theme_shade">
                                        <span class="slds-truncate slds-p-horizontal_small"
                                            title="Vehicle Information">Dealership Information</span>
                                    </h3>
                                    <div aria-hidden="false" class="slds-section__content">
                                        <lightning:input aura:id="vehicleLoanInfo" label="Name" type="text"
                                            value="{!v.ResidentialLoanApplication.Dealer_Name__c}">
                                        </lightning:input>
                                        <lightning:input aura:id="vehicleLoanInfo" type="tel" label="Phone"
                                            value="{!v.ResidentialLoanApplication.Dealer_Phone__c}">
                                        </lightning:input>
                                        <lightning:input aura:id="vehicleLoanInfo" type="email" name="Email"
                                            placeholder="youraddress@company.com" label="Email"
                                            value="{!v.ResidentialLoanApplication.Dealer_Email__c}">
                                        </lightning:input>
                                        <br />
                                        <h2 id="modal-heading-01">Dealer Address</h2>

                                        <div class="slds-grid">
                                            <div class="slds-col slds-size_3-of-3 slds-p-around_medium">
                                                <lightning:textarea name="Street" label="Street"
                                                    value="{!v.ResidentialLoanApplication.Street__c}" />
                                            </div>
                                        </div>
                                        <div class="slds-grid">
                                            <div class="slds-col slds-size_2-of-3 slds-p-around_medium">
                                                <lightning:input aura:id="vehicleLoanInfo" name="City" type="text"
                                                    label="City" value="{!v.ResidentialLoanApplication.City__c}" />
                                            </div>
                                            <div class="slds-col slds-size_1-of-3 slds-p-around_medium">
                                                <lightning:input name="State" type="text" label="State or Province"
                                                    value="{!v.ResidentialLoanApplication.State__c}" />
                                            </div>
                                        </div>
                                        <div class="slds-grid">
                                            <div class="slds-col slds-size_2-of-3 slds-p-around_medium">
                                                <lightning:input aura:id="vehicleLoanInfo" name="PostalCode" type="text"
                                                    label="PostalCode"
                                                    value="{!v.ResidentialLoanApplication.PostalCode__c}" />
                                            </div>
                                            <div class="slds-col slds-size_1-of-3 slds-p-around_medium">
                                                <lightning:input aura:id="vehicleLoanInfo" name="Country" type="text"
                                                    label="Country"
                                                    value="{!v.ResidentialLoanApplication.Country__c}" />
                                            </div>
                                        </div>
                                    </div>
                                </div>


                                <div class="slds-align_absolute-center button-pannel" style="height:5rem;">
                                    <lightning:button variant="brand" label="Save and Next" title="Next"
                                        onclick="{! c.saveLoanInformation }" />

                                    <lightning:button label="Cancel" title="Cancel" onclick="{! c.cancelForm }" />
                                </div>
                            </div>

                        </lightning:tab>
                        <lightning:tab label="3. Loan Applicant(s)" id="2">

                            <div class="slds-text-color_weak slds-text-align_center 
                                        slds-text-heading_small">
                                Loan Applicant Information</div>
                            <div class="tab-container">
                                <lightning:card variant="Narrow" title="Loan Applicant Information"
                                    iconName="action:add_contact">
                                    <aura:set attribute="actions">
                                        <lightning:button label="New" iconName="utility:add" iconPosition="left"
                                            onclick="{!c.showNewBorrowerForm}" />

                                    </aura:set>
                                    <p class="slds-p-horizontal_small">

                                    <table class="slds-table slds-table_cell-buffer slds-table_bordered"
                                        style="table-layout:fixed;">
                                        <thead>
                                            <tr class="slds-line-height_reset">
                                                <th class="" scope="col">
                                                    <div class="slds-truncate" title="Action">Action</div>
                                                </th>
                                                <th class="" scope="col">
                                                    <div class="slds-truncate" title="First Name">Name</div>
                                                </th>
                                                <th class="" scope="col">
                                                    <div class="slds-truncate" title="Title">SSN</div>
                                                </th>
                                                <th class="" scope="col">
                                                    <div class="slds-truncate" title="% of Ownership">Home Phone</div>
                                                </th>
                                                <th class="" scope="col">
                                                    <div class="slds-truncate" title="TIN (EIN or SSN)">Mobile</div>
                                                </th>
                                                <th class="" scope="col">
                                                    <div class="slds-truncate" title="Address">Email</div>
                                                </th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            <aura:iteration items="{!v.LoanApplicant}" var="applicant" indexVar="indx">
                                                <tr class="slds-hint-parent">
                                                    <td>
                                                        <div class="slds-truncate">
                                                            <button
                                                                class="slds-button slds-button_icon slds-button_icon-border slds-button_icon-border-filled"
                                                                title="More Options" data-row="{!indx}"
                                                                onclick="{!c.editBorrowerForm}">
                                                                <lightning:Icon iconName="utility:edit" size="x-small"
                                                                    alternativeText="edit" title="edit" />
                                                                <span class="slds-assistive-text">More options</span>
                                                            </button>
                                                        </div>
                                                    </td>

                                                    <th>
                                                        <div class="slds-truncate">
                                                            <a href="javascript:void(0);"
                                                                tabindex="-1">{!applicant.Name}</a>
                                                        </div>
                                                    </th>
                                                    <td>
                                                        <div class="slds-truncate">{!applicant.SSN__c}</div>
                                                    </td>
                                                    <td>
                                                        <div class="slds-truncate">{!applicant.Phone__c}</div>
                                                    </td>
                                                    <td>
                                                        <div class="slds-truncate">{!applicant.Mobile__c}</div>
                                                    </td>
                                                    <td>
                                                        <div class="slds-truncate">{!applicant.Email__c}</div>
                                                    </td>
                                                </tr>

                                            </aura:iteration>

                                        </tbody>
                                    </table>

                                    </p>
                                </lightning:card>
                            </div>

                        </lightning:tab>

                        <lightning:tab label="Full App" id="3" class="disabledTab">

                            <div class="slds-text-color_weak slds-text-align_center 
                                        slds-text-heading_small">
                                Full App</div>
                            <div class="tab-container">
                                <div class="slds-align_absolute-center"
                                    style="display: block; text-align: center; padding: 2%;">
                                    <p style="text-align: justify;">
                                        After loan applicants have been entered, the PreApp will be submitted for
                                        initial review. The below sections, can be completed after pre-approval, or you
                                        can start completing this information at your convenience.
                                    </p>
                                </div>
                            </div>


                        </lightning:tab>

                        <lightning:tab label="4. Required Document Uploads" id="4">

                            <div class="slds-text-color_weak slds-text-align_center 
                                        slds-text-heading_small">
                                Required Document Uploads</div>
                            <div class="tab-container">

                                <aura:if
                                    isTrue="{! and(not(empty(v.requiredDocumentIds)), not(empty(v.ResidentialLoanApplication.Id)) )}">
                                    <c:requiredFileUpload recordId="{!v.ResidentialLoanApplication.Id}"
                                        childLookupRelationshipName=""
                                        storageObjectName="Required_Application_Document__c"
                                        storageParentLookup="Residential_Loan_Application__c"
                                        storageFileTypeLookup="File_Type__c" fileTypeIds="{!v.requiredDocumentIds}">
                                    </c:requiredFileUpload>

                                    <aura:set attribute="else">

                                        <div class="slds-text-color_weak slds-text-align_center 
                                                    slds-text-heading_small">
                                            Please fill the previous sections of the form</div>

                                    </aura:set>
                                </aura:if>

                                <div class="slds-align_absolute-center button-pannel" style="height:5rem;">
                                    <lightning:button variant="brand" label="Next" title="Next"
                                        onclick="{!c.setCertificationTab}" />
                                </div>
                            </div>

                        </lightning:tab>
                        <lightning:tab label="5. Certifications And Authorizations" id="5">

                            <div class="slds-text-color_weak slds-text-align_center 
                                        slds-text-heading_small">
                                Certifications And Authorizations</div>
                            <div class="tab-container">
                                <lightning:card variant="Narrow" title="Certifications And Authorizations"
                                    iconName="action:add_contact">
                                    <aura:set attribute="actions">
                                        <lightning:button label="New" iconName="utility:add" iconPosition="left"
                                            onclick="{!c.showCertificationForm}" />

                                    </aura:set>
                                    <p class="slds-p-horizontal_small">

                                    <table class="slds-table slds-table_cell-buffer slds-table_bordered"
                                        style="table-layout:fixed;">
                                        <thead>
                                            <tr class="slds-line-height_reset">
                                                <th class="" scope="col">
                                                    <div class="slds-truncate" title="Action">Action</div>
                                                </th>
                                                <th class="" scope="col">
                                                    <div class="slds-truncate" title="Name">Name</div>
                                                </th>
                                                <th class="" scope="col">
                                                    <div class="slds-truncate" title="SSN">SSN</div>
                                                </th>
                                                <th class="" scope="col">
                                                    <div class="slds-truncate" title="Mobile">Mobile</div>
                                                </th>
                                                <th class="" scope="col">
                                                    <div class="slds-truncate" title="Email">Email</div>
                                                </th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            <aura:iteration items="{!v.LoanApplicant}" var="applicant" indexVar="indx">
                                                <tr class="slds-hint-parent">
                                                    <td>
                                                        <div class="slds-truncate">
                                                            <button
                                                                class="slds-button slds-button_icon slds-button_icon-border slds-button_icon-border-filled"
                                                                title="More Options" data-row="{!indx}"
                                                                onclick="{!c.editCertificationForm}">
                                                                <lightning:Icon iconName="utility:edit" size="x-small"
                                                                    alternativeText="edit" title="edit" />
                                                                <span class="slds-assistive-text">More options</span>
                                                            </button>
                                                        </div>
                                                    </td>

                                                    <th>
                                                        <div class="slds-truncate">
                                                            <a href="javascript:void(0);"
                                                                tabindex="-1">{!applicant.Name}</a>
                                                        </div>
                                                    </th>
                                                    <td>
                                                        <div class="slds-truncate">{!applicant.SSN__c}</div>
                                                    </td>
                                                    <td>
                                                        <div class="slds-truncate">{!applicant.Mobile__c}</div>
                                                    </td>
                                                    <td>
                                                        <div class="slds-truncate">{!applicant.Email__c}</div>
                                                    </td>
                                                </tr>
                                            </aura:iteration>
                                        </tbody>
                                    </table>
                                    </p>
                                </lightning:card>
                            </div>
                            <div class="slds-align_absolute-center">
                                <lightning:button variant="brand" label="Submit Full App" title="FullAppComplete"
                                    value="PersonalInfo" onclick="{!c.submitFullApp}" />
                            </div>

                        </lightning:tab>
                    </lightning:tabset>
                </div>
            </div>
        </article>
    </div>

    <aura:if isTrue="{!v.showBorrowerForm}">
        <section role="dialog" tabindex="-1" class="slds-modal slds-fade-in-open slds-modal_medium"
            aria-labelledby="modal-heading-01" aria-modal="true" aria-describedby="modal-content-id-1">
            <div class="slds-modal__container">

                <header class="slds-modal__header">
                    <button class="slds-button slds-button_icon slds-modal__close" title="Close"
                        onclick="{!c.hideBorrowerForm}">
                        <lightning:icon iconName="utility:close" alternativeText="close!" title="close" />
                        <span class="slds-assistive-text">Close</span>
                    </button>
                    <aura:if isTrue="{!v.NewLoanApplicant.Name}">
                        <h2 id="modal-heading-01" class="slds-modal__title slds-hyphenate">{!v.NewLoanApplicant.Name}
                            Information</h2>
                        <aura:set attribute="else">
                            <h2 id="modal-heading-01" class="slds-modal__title slds-hyphenate">Borrower Personal
                                Information</h2>
                        </aura:set>
                    </aura:if>
                </header>
                <div class="slds-modal__content slds-p-around_medium" id="modal-content-id-1">
                    <div class="">
                        <lightning:tabset variant="vertical" selectedTabId="{!v.PersonalInfoCurrentTab}">
                            <lightning:tab label="Personal Information" id="0">
                                <div class="slds-text-color_weak slds-text-align_center 
                                            slds-text-heading_small">
                                    Personal Information
                                </div>
                                <div class="tab-container">

                                    <lightning:input aura:id="PersonalInfo" type="text" required="true"
                                        label="First Name" value="{!v.NewLoanApplicant.First_Name__c}" />

                                    <lightning:input aura:id="PersonalInfo" type="text" required="true"
                                        label="Last Name" value="{!v.NewLoanApplicant.Last_Name__c}" />

                                    <lightning:input aura:id="PersonalInfo" type="text" label="Social Security Number"
                                        required="true" value="{!v.NewLoanApplicant.SSN__c}" />

                                    <lightning:input aura:id="PersonalInfo" type="number" label="No. of Dependents"
                                        required="true" value="{!v.NewLoanApplicant.DependentCount}" />

                                    <lightning:select aura:id="PersonalInfo" name="select" label="Marital Status"
                                        required="false" value="{!v.NewLoanApplicant.MaritalStatus}">

                                        <aura:iteration items="{!v.MaritalStatus}" var="maritalStatus">
                                            <option text="{!maritalStatus.label}" value="{!maritalStatus.value}">
                                            </option>
                                        </aura:iteration>
                                    </lightning:select>

                                    <lightning:input aura:id="PersonalInfo" type="tel" label="Home Phone"
                                        required="true" value="{!v.NewLoanApplicant.Phone__c}" />
                                    <lightning:input aura:id="PersonalInfo" type="tel" label="Mobile Phone"
                                        required="true" value="{!v.NewLoanApplicant.Mobile__c}" />
                                    <lightning:input aura:id="PersonalInfo" type="email" name="Email"
                                        placeholder="youraddress@company.com" required="true" label="Email"
                                        value="{!v.NewLoanApplicant.Email__c}" />

                                    <div class="slds-align_absolute-center button-pannel" style="height:5rem;">
                                        <lightning:button variant="brand" label="Save and Next" title="Next"
                                            value="PersonalInfo" onclick="{!c.saveLoanApplicantInfo}" />
                                    </div>

                                </div>
                            </lightning:tab>

                            <lightning:tab label="Credit Approval" id="1">
                                <div class="slds-text-color_weak slds-text-align_center 
                                            slds-text-heading_small">
                                    Credit Approval
                                </div>
                                <div class="tab-container">
                                    <p style="text-align: justify;">
                                        I authorize EMS Financial Services to obtain a consumer credit report on me. EMS
                                        Financial Services will use the consumer credit report to “Determine Loan
                                        Options”, Upon request, EMS Financial Services will provide me with the name and
                                        address of the Consumer Reporting Agency contacted to supply the report. I
                                        understand that credit inquiries have the potential to impact my credit score.
                                    </p>
                                    <br />
                                    <div class="slds-grid">
                                        <lightning:input aura:id="certification" type="checkbox" label="I accept"
                                            name="Iaccept" checked="{!v.NewLoanApplicant.Approval_Accept__c}" />
                                    </div>
                                    <br />
                                    <div class="slds-grid slds-gutters">
                                        <div class="slds-col">
                                            <span>
                                                <lightning:input aura:id="certification" type="text" required="false"
                                                    label="Name" value="{!v.NewLoanApplicant.Approval_Name__c}" />
                                            </span>
                                        </div>
                                        <div class="slds-col">
                                            <span>
                                                <lightning:input aura:id="certification" type="date" name="BirthDate"
                                                    value="{!v.NewLoanApplicant.BirthDate__c}" label="Date of Birth" />
                                            </span>
                                        </div>
                                    </div>

                                    <div class="slds-align_absolute-center button-pannel" style="height:5rem;">
                                        <lightning:button variant="brand" label="Save and Next" title="Next"
                                            value="CreditApproval" onclick="{!c.saveLoanApplicantInfo}" />
                                    </div>
                                </div>
                            </lightning:tab>

                            <lightning:tab label="Application Questions" id="2">

                                <div class="slds-text-color_weak slds-text-align_center 
                                            slds-text-heading_small">
                                    Application Questions</div>
                                <div class="tab-container">
                                    <table class="cust-table-eligibilty">
                                        <aura:iteration items="{!v.DeclarationQuestions}" var="ques" indexVar="Indx">
                                            <aura:if isTrue="{!ques.QuestionType == 'Application Question'}">
                                                <tr>
                                                    <td>{!ques.Description}</td>
                                                </tr>
                                                <td style="width:15%;">
                                                    <!--<lightning:radioGroup aura:id="applicantDeclaration" name="{!ques.Name}"
                                                                          label="{!ques.Loan_Declaration_Field}"
                                                                          variant="label-hidden"
                                                                          options="{! v.Yes_No_options }"
                                                                          value="{!ques.Answer}"
                                                                          type="radio"
                                                                          onchange="{! c.handleRadioGroupChange}"
                                                                          required="true"/>-->

                                                    <aura:if isTrue="{!ques.Answer == true}">
                                                        <ui:inputRadio aura:id="applicantDeclaration"
                                                            name="{!ques.Loan_Declaration_Field}" value="{!ques.Answer}"
                                                            label="Yes" change="{!c.onGroup}" class="slds-radio" />
                                                        <ui:inputRadio aura:id="applicantDeclaration"
                                                            name="{!ques.Loan_Declaration_Field}" value="false"
                                                            label="No" change="{!c.onGroup}" class="slds-radio" />
                                                        <aura:set attribute="else">
                                                            <ui:inputRadio aura:id="applicantDeclaration"
                                                                name="{!ques.Loan_Declaration_Field}"
                                                                value="{!ques.Answer}" label="Yes" change="{!c.onGroup}"
                                                                class="slds-radio" />
                                                            <ui:inputRadio aura:id="applicantDeclaration"
                                                                name="{!ques.Loan_Declaration_Field}" value="true"
                                                                label="No" change="{!c.onGroup}" class="slds-radio" />
                                                        </aura:set>
                                                    </aura:if>
                                                </td>
                                            </aura:if>

                                        </aura:iteration>
                                    </table>
                                    <div class="slds-align_absolute-center button-pannel" style="height:5rem;">
                                        <lightning:button variant="brand" label="Save and Next" title="Next"
                                            value="applicantDeclaration" onclick="{!c.saveApplicantQuestions}" />
                                    </div>
                                </div>
                            </lightning:tab>

                            <lightning:tab label="Address Information" id="3">

                                <div class="slds-text-color_weak slds-text-align_center 
                                            slds-text-heading_small">
                                    Address Information
                                </div>
                                <div class="tab-container">
                                    <aura:if isTrue="{!v.NewLoanApplicant.BorrowerType != 'Borrower'}">
                                        <lightning:input type="checkbox" label="Copy From Main Borrower"
                                            name="copyBorrowerAddress" onchange="{!c.getBorrowerAddress}" />
                                    </aura:if>

                                    <lightning:inputAddress aura:id="AddressInfo" addressLabel="Present Address"
                                        streetLabel="Street" cityLabel="City" countryLabel="Country"
                                        provinceLabel="State or Province" postalCodeLabel="PostalCode" required="false"
                                        street="{!v.LoanApplicantAddress.ResidenceStreet}"
                                        city="{!v.LoanApplicantAddress.ResidenceCity}"
                                        country="{!v.LoanApplicantAddress.ResidenceCountry }"
                                        province="{!v.LoanApplicantAddress.ResidenceState}"
                                        postalCode="{!v.LoanApplicantAddress.ResidencePostalCode}" />

                                    <lightning:input aura:id="AddressInfo" label="Years at current residence"
                                        type="number" required="false"
                                        value="{!v.LoanApplicantAddress.ResidenceYearCount }">
                                    </lightning:input>
                                    <lightning:input aura:id="AddressInfo" label="Months at current residence"
                                        type="number" required="false"
                                        value="{!v.LoanApplicantAddress.ResidenceAdditionalMonthCount}">
                                    </lightning:input>

                                    <lightning:input aura:id="AddressInfo" type="checkbox" label="Same as above"
                                        name="copyMailingAddress" onclick="{! c.copyAddress}" />

                                    <lightning:inputAddress aura:id="AddressInfo" addressLabel="Mailing Address"
                                        streetLabel="Street" cityLabel="City" countryLabel="Country"
                                        provinceLabel="State or Province" postalCodeLabel="PostalCode" required="false"
                                        street="{!v.LoanApplicantMalingAddress.ResidenceStreet}"
                                        city="{!v.LoanApplicantMalingAddress.ResidenceCity}"
                                        country="{!v.LoanApplicantMalingAddress.ResidenceCountry }"
                                        province="{!v.LoanApplicantMalingAddress.ResidenceState}"
                                        postalCode="{!v.LoanApplicantMalingAddress.ResidencePostalCode}" />

                                    <div class="slds-align_absolute-center button-pannel" style="height:5rem;">
                                        <lightning:button variant="brand" label="Save and Next" title="Next"
                                            value="AddressInfo" onclick="{!c.saveApplicantAddress}" />
                                    </div>
                                </div>

                            </lightning:tab>

                            <lightning:tab label="Employment Information" id="4">

                                <div class="slds-text-color_weak slds-text-align_center 
                                            slds-text-heading_small">
                                    Employment Information
                                </div>
                                <div class="tab-container">
                                    <lightning:input aura:id="employmentInfo" type="checkbox" label="Self Employed"
                                        name="IsSelfEmployed" checked="{!v.LoanApplicantEmployment.IsSelfEmployed}"
                                        onchange="{!c.setSelfEmployment}" />

                                    <lightning:input aura:id="employmentInfo" type="text" label="Employer Name"
                                        required="false" value="{!v.LoanApplicantEmployment.EmployerName}" />

                                    <lightning:input aura:id="employmentInfo" type="tel" label="Business Phone"
                                        required="false" value="{!v.LoanApplicantEmployment.Business_Phone__c}" />

                                    <lightning:inputAddress aura:id="employmentInfo" addressLabel="Employer Address"
                                        streetLabel="Street" cityLabel="City" countryLabel="Country"
                                        provinceLabel="State or Province" postalCodeLabel="PostalCode" required="false"
                                        street="{!v.LoanApplicantEmployment.EmployerStreet}"
                                        city="{!v.LoanApplicantEmployment.EmployerCity}"
                                        country="{!v.LoanApplicantEmployment.EmployerCountry}"
                                        province="{!v.LoanApplicantEmployment.EmployerState}"
                                        postalCode="{!v.LoanApplicantEmployment.EmployerPostalCode}" />

                                    <lightning:input aura:id="employmentInfo" label="Years on job" type="number"
                                        required="false" value="{!v.LoanApplicantEmployment.CurrentJobYearCount  }">
                                    </lightning:input>
                                    <lightning:input aura:id="employmentInfo" label="Months on job" type="number"
                                        required="false"
                                        value="{!v.LoanApplicantEmployment.CurrentJobAdditionalMonthCount}">
                                    </lightning:input>
                                    <lightning:input aura:id="employmentInfo" label="Years in Industry" type="number"
                                        required="false" value="{!v.LoanApplicantEmployment.Years_in_Industry__c}">
                                    </lightning:input>
                                    <lightning:input aura:id="employmentInfo" label="Position/Title/Business"
                                        type="text" required="false" value="{!v.LoanApplicantEmployment.JobTitle}">
                                    </lightning:input>

                                    <div class="slds-align_absolute-center button-pannel" style="height:5rem;">
                                        <lightning:button variant="brand" label="Save and Next" title="Next"
                                            value="employmentInfo" onclick="{!c.saveApplicantEmployment}" />
                                    </div>
                                </div>

                            </lightning:tab>

                            <lightning:tab label="Income Information" id="5">

                                <div class="slds-text-color_weak slds-text-align_center 
                                            slds-text-heading_small">
                                    Monthly Income Information
                                </div>
                                <div class="tab-container">
                                    <lightning:input aura:id="IncomeInfo" label="Monthly Base Salary" type="number"
                                        formatter="currency" required="false"
                                        value="{!v.LoanApplicantIncomes.Base_Monthly_Salary__c}"
                                        onchange="{!c.calculateTotalIncome}">
                                    </lightning:input>
                                    <lightning:input aura:id="IncomeInfo" label="Monthly Overtime" type="number"
                                        formatter="currency" required="false"
                                        value="{!v.LoanApplicantIncomes.Monthly_Overtime_Amount__c}"
                                        onchange="{!c.calculateTotalIncome}">
                                    </lightning:input>
                                    <lightning:input aura:id="IncomeInfo" label="Monthly Bonus" type="number"
                                        formatter="currency" required="false"
                                        value="{!v.LoanApplicantIncomes.Monthly_Bonus_Amount__c}"
                                        onchange="{!c.calculateTotalIncome}">
                                    </lightning:input>
                                    <lightning:input aura:id="IncomeInfo" label="Monthly Comission" type="number"
                                        formatter="currency" required="false"
                                        value="{!v.LoanApplicantIncomes.Monthly_Commission_Amount__c}"
                                        onchange="{!c.calculateTotalIncome}">
                                    </lightning:input>
                                    <lightning:input aura:id="IncomeInfo" label="Monthly Dividends/Interest"
                                        type="number" formatter="currency" required="false"
                                        value="{!v.LoanApplicantIncomes.Devidends_Interest__c}"
                                        onchange="{!c.calculateTotalIncome}">
                                    </lightning:input>
                                    <lightning:input aura:id="IncomeInfo" label="Monthly Net Rental Income"
                                        type="number" formatter="currency" required="false"
                                        value="{!v.LoanApplicantIncomes.Net_rental_Income__c}"
                                        onchange="{!c.calculateTotalIncome}">
                                    </lightning:input>
                                    <lightning:input aura:id="IncomeInfo" label="Monthly Other Income" type="number"
                                        formatter="currency" required="false"
                                        value="{!v.LoanApplicantIncomes.Other_Income__c}"
                                        onchange="{!c.calculateTotalIncome}">
                                    </lightning:input>

                                    <lightning:input name="IncomeInfo"
                                        value="{!v.LoanApplicantIncomes.MonthlyIncomeAmount}" type="number"
                                        formatter="currency" label="Monthly Income Amount" readonly="true" />

                                    <div class="slds-align_absolute-center button-pannel" style="height:5rem;">
                                        <lightning:button variant="brand" label="Save and Next" title="Next"
                                            value="IncomeInfo" onclick="{!c.saveApplicantIncomes}" />
                                    </div>
                                </div>

                            </lightning:tab>

                            <lightning:tab label="Debt/Expense Information" id="6">

                                <div class="slds-text-color_weak slds-text-align_center 
                                            slds-text-heading_small">
                                    Monthly Debt/Expense Information <br />
                                    <span class="noteText">*(Note: List all Joint Expenses under the Main Borrower only,
                                        if there are any CoBorrowers)</span><br />
                                    <span class="noteText" style="font-size: 11px;">** Only list Expense Types that are
                                        considered Debt, where the debt is borrowed (Loans) or lines of credit (Credit
                                        Cards/Lines of Credit), and Expenses that are court ordered/mandatory like child
                                        support/alimony. Do not include living expenses like utilities, water, phone,
                                        cable, etc.</span>
                                </div>
                                <div class="tab-container">
                                    <lightning:input aura:id="ExpenseInfo"
                                        label="Outstanding Loans (Average Monthly Payment Amount)" type="number"
                                        formatter="currency" required="false"
                                        value="{!v.NewLoanApplicant.Outstanding_Loans_Expenses__c}"
                                        onchange="{!c.calculateTotalExpenses}">
                                    </lightning:input>
                                    <lightning:input aura:id="ExpenseInfo"
                                        label="Credit Cards (Average Monthly Payment Amount)" type="number"
                                        formatter="currency" required="false"
                                        value="{!v.NewLoanApplicant.Credit_Cards_Expenses__c}"
                                        onchange="{!c.calculateTotalExpenses}">
                                    </lightning:input>
                                    <lightning:input aura:id="ExpenseInfo"
                                        label="Lines of Credit (Average Monthly Payment Amount)" type="number"
                                        formatter="currency" required="false"
                                        value="{!v.NewLoanApplicant.Lines_of_Credit_Expenses__c}"
                                        onchange="{!c.calculateTotalExpenses}">
                                    </lightning:input>
                                    <lightning:input aura:id="ExpenseInfo"
                                        label="Alimony (Average Monthly Payment Amount)" type="number"
                                        formatter="currency" required="false"
                                        value="{!v.NewLoanApplicant.Alimony_Expenses__c}"
                                        onchange="{!c.calculateTotalExpenses}">
                                    </lightning:input>
                                    <lightning:input aura:id="ExpenseInfo"
                                        label="Child Support (Average Monthly Payment Amount)" type="number"
                                        formatter="currency" required="false"
                                        value="{!v.NewLoanApplicant.Child_Support_Expenses__c}"
                                        onchange="{!c.calculateTotalExpenses}">
                                    </lightning:input>
                                    <lightning:input aura:id="ExpenseInfo"
                                        label="Other Expenses (Average Monthly Payment Amount)" type="number"
                                        formatter="currency" required="false"
                                        value="{!v.NewLoanApplicant.Other_Expenses__c}"
                                        onchange="{!c.calculateTotalExpenses}">
                                    </lightning:input>

                                    <lightning:input name="MonthlyExpenseAmount"
                                        value="{!v.NewLoanApplicant.Monthly_Expenses_Amount__c}" type="number"
                                        formatter="currency" label="Monthly Expenses Amount" readonly="true" />

                                    <div class="slds-align_absolute-center button-pannel" style="height:5rem;">
                                        <!--<lightning:button variant="brand" label="Add Co-Borrower" title="AddCoBorrower" 
                                                          value="ExpenseInfo" onclick="{!c.saveApplicantExpense}"/>
                                        
                                        <lightning:button variant="brand" label="Submit PreApp" title="PreAppSubmit" 
                                                          value="ExpenseInfo" onclick="{!c.saveApplicantExpense}"/>-->
                                        <lightning:button variant="brand" label="Save and Next" title="Next"
                                            value="IncomeInfo" onclick="{!c.saveApplicantExpense}" />
                                    </div>
                                </div>

                            </lightning:tab>

                            <lightning:tab label="Applicant Consent" id="7">

                                <div class="slds-text-color_weak slds-text-align_center 
                                            slds-text-heading_small">
                                    Applicant Consent <br />
                                </div>
                                <div class="tab-container">
                                    <aura:iteration items="{!v.DeclarationQuestions}" var="ques" indexVar="Indx">
                                        <aura:if isTrue="{!ques.QuestionType == 'ApplicantConsent'}">
                                            <tr>
                                                <td>{!ques.Description}</td>
                                            </tr>
                                            <td style="width:15%;">
                                                <aura:if isTrue="{!ques.Answer == true}">
                                                    <ui:inputRadio aura:id="applicantDeclaration"
                                                        name="{!ques.Loan_Declaration_Field}" value="{!ques.Answer}"
                                                        label="Yes" change="{!c.onGroup}" class="slds-radio" />
                                                    <ui:inputRadio aura:id="applicantDeclaration"
                                                        name="{!ques.Loan_Declaration_Field}" value="false" label="No"
                                                        change="{!c.onGroup}" class="slds-radio" />
                                                    <aura:set attribute="else">
                                                        <ui:inputRadio aura:id="applicantDeclaration"
                                                            name="{!ques.Loan_Declaration_Field}" value="{!ques.Answer}"
                                                            label="Yes" change="{!c.onGroup}" class="slds-radio" />
                                                        <ui:inputRadio aura:id="applicantDeclaration"
                                                            name="{!ques.Loan_Declaration_Field}" value="true"
                                                            label="No" change="{!c.onGroup}" class="slds-radio" />
                                                    </aura:set>
                                                </aura:if>
                                            </td>
                                        </aura:if>
                                    </aura:iteration>
                                    <div class="slds-align_absolute-center button-pannel" style="height:5rem;">
                                        <!--<lightning:button variant="brand" label="Save" title="Save" 
                                                          value="ExpenseInfo" onclick="{!c.saveApplicantQuestions}"/>-->
                                        <div class="slds-align_absolute-center button-pannel" style="height:5rem;">
                                            <lightning:button variant="brand" label="Add Co-Borrower"
                                                title="AddCoBorrower" value="ExpenseInfo"
                                                onclick="{!c.saveApplicantConsent}" />

                                            <lightning:button variant="brand" label="Submit PreApp" title="PreAppSubmit"
                                                value="ExpenseInfo" onclick="{!c.saveApplicantConsent}" />
                                        </div>
                                    </div>
                                </div>
                            </lightning:tab>
                        </lightning:tabset>
                    </div>
                </div>
            </div>
        </section>
        <div class="slds-backdrop slds-backdrop_open"></div>
    </aura:if>

    <aura:if isTrue="{!v.showFormTypeSelector}">
        <section role="dialog" tabindex="-1" class="slds-modal slds-fade-in-open slds-modal_small"
            aria-labelledby="modal-heading-01" aria-modal="true" aria-describedby="modal-content-id-1">
            <div class="slds-modal__container">
                <header class="slds-modal__header">
                    <lightning:buttonIcon iconName="utility:close" class="slds-modal__close"
                        onclick="{!c.closeSelectApplicationType}" alternativeText="close" />
                    <h2 id="modal-heading-01" class="slds-modal__title slds-hyphenate">Select Consumer Type</h2>
                </header>
                <div class="slds-modal__content slds-p-around_medium" id="modal-content-id-1">

                    <lightning:select aura:id="loan-type" name="select" label="Select a Consumer Type" required="true"
                        class="cust-padd">
                        <aura:iteration items="{!v.ConsumerOptions}" var="option">
                            <option text="{!option.key}" value="{!option.value}"></option>
                        </aura:iteration>
                    </lightning:select>
                    <div class="slds-align_absolute-center" style="height:5rem;">
                        <button class="slds-button slds-button_brand" onclick="{!c.setMortgageType}">Submit</button>
                    </div>
                </div>
            </div>
        </section>
        <div class="slds-backdrop slds-backdrop_open"></div>
    </aura:if>

    <aura:if isTrue="{!v.showCertificationForm}">
        <section style="background: rgba(0,0,0,0.5);" role="dialog" tabindex="-1"
            class="slds-modal slds-fade-in-open slds-modal_medium" aria-labelledby="modal-heading-01" aria-modal="true"
            aria-describedby="modal-content-id-1">
            <div class="slds-modal__container">
                <header class="slds-modal__header">
                    <button class="slds-button slds-button_icon slds-modal__close" title="Close"
                        onclick="{!c.hideCertificationForm}">
                        <lightning:icon iconName="utility:close" alternativeText="close!" title="close" />
                        <span class="slds-assistive-text">Close</span>
                    </button>
                    <h2 id="modal-heading-01" class="slds-modal__title slds-hyphenate">Certifications And Authorizations
                    </h2>
                </header>
                <div class="slds-modal__content slds-p-around_medium" id="modal-content-id-1">

                    <lightning:formattedRichText value="{!v.ConsumerLoanProgram.Certification_Description__c}" />
                    <br />
                    <div class="slds-grid">
                        <lightning:input aura:id="certification" type="checkbox" label="I accept" name="Iaccept"
                            checked="{!v.ApplicationQuestion.I_Accept__c}" />
                    </div>
                    <br />
                    <div class="slds-grid slds-gutters">
                        <div class="slds-col">
                            <span>
                                <lightning:input aura:id="certification" type="text" required="false" label="Name"
                                    value="{!v.ApplicationQuestion.Name_On_Certification__c}" />
                            </span>
                        </div>
                        <div class="slds-col">
                            <span>
                                <lightning:input aura:id="certification" type="date" name="BirthDate"
                                    value="{!v.ApplicationQuestion.BirthDate__c}" label="Date of Birth" />
                            </span>
                        </div>
                    </div>

                </div>
                <footer class="slds-modal__footer">
                    <button class="slds-button slds-button_neutral" onclick="{!c.hideCertificationForm}">Cancel</button>
                    <button class="slds-button slds-button_brand" onclick="{!c.saveCertificationForm}">Save</button>
                </footer>
            </div>
        </section>
    </aura:if>
    <aura:if isTrue="{!v.Spinner}">
        <div aura:id="spinnerId" class="slds-spinner_container loaderbg">
            <div class="slds-spinner--brand  slds-spinner slds-spinner--large slds-is-relative" role="alert">
                <span class="slds-assistive-text">Loading</span>
                <div class="slds-spinner__dot-a"></div>
                <div class="slds-spinner__dot-b"></div>
            </div>
        </div>
    </aura:if>
</aura:component>